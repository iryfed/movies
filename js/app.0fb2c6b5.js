(function(t){function i(i){for(var a,o,r=i[0],l=i[1],c=i[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);v&&v(i);while(m.length)m.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,i=0;i<s.length;i++){for(var e=s[i],a=!0,r=1;r<e.length;r++){var l=e[r];0!==n[l]&&(a=!1)}a&&(s.splice(i--,1),t=o(o.s=e[0]))}return t}var a={},n={app:0},s=[];function o(i){if(a[i])return a[i].exports;var e=a[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var a in t)o.d(e,a,function(i){return t[i]}.bind(null,a));return e},o.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="/movies/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=i,r=r.slice();for(var c=0;c<r.length;c++)i(r[c]);var v=l;s.push([0,"chunk-vendors"]),e()})({0:function(t,i,e){t.exports=e("56d7")},"56d7":function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("router-view"),t._m(0),e("back-to-top",[e("div",{staticClass:"toTop"})])],1)},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("footer",[e("div",{staticClass:"container"},[e("div",{staticClass:"footer"},[t._v(" © 2020 ")])])])}],o=e("6afc"),r={components:{BackToTop:o["a"]}},l=r,c=e("2877"),v=Object(c["a"])(l,n,s,!1,null,null,null),d=v.exports,m=e("8c4f"),u=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("header",[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),e("FindMoviesItem",{attrs:{title:t.title},on:{"update:title":function(i){t.title=i}}})],1)])]),e("main",[e("div",{staticClass:"container"},[e("h1",{staticClass:"page-title"},[t._v("Найдено фильмов: "+t._s(t.moviesCount))]),t.moviesListLoading?e("div",{staticClass:"lds-roller-container"},[t._m(1)]):t._e(),t.moviesListLoadingFailed?e("div",[t._v(" Ошибка загрузки =( ")]):t._e(),e("MoviesList",{attrs:{movies:t.movies}})],1)])])},p=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"col-xs-12 col-sm-12 col-md-6 col-lg-5 flex-container"},[e("div",{staticClass:"header__logo"}),e("div",{staticClass:"header__title"},[t._v("Каталог фильмов")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])}],_=(e("ac1f"),e("841c"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"row movies"},t._l(t.movies,(function(t){return e("MoviesItem",{key:t.id,attrs:{movie:t}})})),1)}),f=[],h=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[e("div",{staticClass:"movies__item movie"},[e("router-link",{attrs:{to:{name:"movie",params:{id:t.movie.id}}}},[e("img",{staticClass:"hvr-grow-shadow",attrs:{src:t.movie.poster,alt:t.movie.title}})]),e("router-link",{attrs:{to:{name:"movie",params:{id:t.movie.id}}}},[e("div",{staticClass:"movie__title"},[t._v(" "+t._s(t.movie.title)+" ")])]),e("div",{staticClass:"movie__props"},[t._v(" "+t._s(t.movie.country)+", "+t._s(t.movie.year)+", "),e("span",{staticClass:"movie__type"},[t._v(t._s(t.movie.type))])]),e("div",{staticClass:"movie__genres"},t._l(t.movie.genres,(function(i){return e("span",{key:i.name},[t._v(" "+t._s(i.name)+" ")])})),0),e("MoviesRating",{attrs:{imdbID:t.movie.imdbID}})],1)])},g=[],b=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.imdbID?e("div",{staticClass:"movie__rating"},[e("a",{attrs:{href:t.link,target:"_blank"}},[e("span",{staticClass:"imdb"})]),e("span",{staticClass:"imdb-star"},[t._v(t._s(t.rating.imdbRating))]),t.imdbDataLoading?e("div",{staticClass:"lds-mini"},[e("div",{staticClass:"line"}),e("div",{staticClass:"line"}),e("div",{staticClass:"line"})]):t._e(),t.imdbDataLoadingFailed||t.rating.Error?e("span",{staticClass:"error"},[t._v("ошибка загрузки")]):t._e()]):t._e()},C=[],L=e("bc3a"),y=e.n(L),w="https://film-api-backend.herokuapp.com",D="https://www.omdbapi.com",x={props:["imdbID"],data:function(){return{imdbData:null,imdbDataLoading:!1,imdbDataLoadingFailed:!1}},computed:{rating:function(){return this.imdbData?this.imdbData:[]},link:function(){return"https://www.imdb.com/title/".concat(this.imdbID)}},methods:{loadRating:function(){var t=this;this.imdbDataLoading=!0,this.imdbDataLoadingFailed=!1,clearTimeout(this.loadRatingTimer),this.loadRatingTimer=setTimeout((function(){y.a.get("".concat(D),{params:{i:t.imdbID,apikey:"f2297fd4"}}).then((function(i){t.imdbData=i.data})).catch((function(){t.imdbDataLoadingFailed=!0})).then((function(){t.imdbDataLoading=!1}))}),1e3)}},created:function(){this.loadRating()}},M=x,k=Object(c["a"])(M,b,C,!1,null,null,null),O=k.exports,j={props:["movie"],components:{MoviesRating:O}},T=j,$=Object(c["a"])(T,h,g,!1,null,null,null),E=$.exports,F={props:["movies"],components:{MoviesItem:E}},I=F,R=Object(c["a"])(I,_,f,!1,null,null,null),P=R.exports,S=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"col-xs-12 col-sm-12 col-md-6 col-lg-7 find"},[e("div",{staticClass:"find-icon"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentTitle,expression:"currentTitle"}],attrs:{type:"text",placeholder:"название фильма"},domProps:{value:t.currentTitle},on:{input:function(i){i.target.composing||(t.currentTitle=i.target.value)}}})])},J=[],V={props:["title"],computed:{currentTitle:{get:function(){return this.title},set:function(t){this.$emit("update:title",t)}}}},B=V,N=Object(c["a"])(B,S,J,!1,null,null,null),q=N.exports,z={components:{MoviesList:P,FindMoviesItem:q},data:function(){return{moviesData:null,moviesListLoading:!0,moviesListLoadingFailed:!1,title:""}},computed:{movies:function(){return this.moviesData?this.moviesData.search:[]},moviesCount:function(){return this.moviesData?this.moviesData.totalResults:0}},methods:{loadMovies:function(){var t=this;this.moviesListLoading=!0,this.moviesListLoadingFailed=!1,clearTimeout(this.loadMoviesTimer),this.loadMoviesTimer=setTimeout((function(){y.a.get("".concat(w,"/movies/find"),{params:{title:t.title}}).then((function(i){t.moviesData=i.data})).catch((function(){t.moviesListLoadingFailed=!0})).then((function(){t.moviesListLoading=!1}))}),0)}},watch:{title:function(){this.loadMovies()}},created:function(){this.loadMovies()}},A=z,G=Object(c["a"])(A,u,p,!1,null,null,null),H=G.exports,K=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("header",[e("div",{staticClass:"container"},[e("router-link",{staticClass:"flex-container",attrs:{to:{name:"main"}}},[e("div",{staticClass:"header__logo"}),e("div",{staticClass:"header__title"},[t._v("Каталог фильмов")])])],1)]),e("main",[e("div",{staticClass:"container"},[t.movieLoading?e("div",{staticClass:"lds-roller-container"},[t._m(0)]):t._e(),t.movieLoadingFailed?e("div",[t._v(" Ошибка загрузки =( ")]):t._e(),e("MovieView",{attrs:{movie:t.movie}})],1)])])},Q=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])}],U=(e("4de4"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"breadcrumbs"},[e("router-link",{attrs:{to:{name:"main"}}},[e("span",{staticClass:"breadcrumbs__link"},[t._v("главная")])]),e("span",[t._v(t._s(t.movie.title))])],1),0!==Object.keys(t.movie).length?e("div",[e("h1",{staticClass:"movie__title"},[t._v(t._s(t.movie.title))]),e("div",{staticClass:"movie__props"},[t._v(" "+t._s(t.movie.country)+", "+t._s(t.movie.year)+", "),e("span",{staticClass:"movie__type"},[t._v(t._s(t.movie.type))])]),e("hr"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-sm-4 col-md-3 col-lg-3"},[e("img",{attrs:{src:t.movie.poster,alt:t.movie.title}})]),e("div",{staticClass:"col-xs-12 col-sm-8 col-md-9 col-lg-9"},[e("div",{staticClass:"movie__genres"},t._l(t.movie.genres,(function(i){return e("span",{key:i.name},[t._v(" "+t._s(i.name)+" ")])})),0),e("MoviesRating",{attrs:{imdbID:t.movie.imdbID}}),e("div",{staticClass:"movie__descr"},[t._v(" "+t._s(t.movie.description)+" ")])],1)])]):e("div",[e("h1",{staticClass:"movie__title"},[t._v("ничего не найдено")])])])}),W=[],X={props:["movie"],components:{MoviesRating:O}},Y=X,Z=Object(c["a"])(Y,U,W,!1,null,null,null),tt=Z.exports,it={components:{MovieView:tt},data:function(){return{movieData:null,movieLoading:!1,movieLoadingFailed:!1}},computed:{movie:function(){var t=this;return this.movieData?this.movieData.search.filter((function(i){return i.id===t.$route.params.id}))[0]:{}}},methods:{loadMovie:function(){var t=this;this.movieLoading=!0,this.movieLoadingFailed=!1,y.a.get("".concat(w,"/movies")).then((function(i){t.movieData=i.data})).catch((function(){t.movieLoadingFailed=!0})).then((function(){t.movieLoading=!1}))}},watch:{"$route.params.id":{handler:function(){this.loadMovie()},immediate:!0}}},et=it,at=Object(c["a"])(et,K,Q,!1,null,null,null),nt=at.exports,st=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("main",[e("div",{staticClass:"container"},[e("h1",{staticClass:"page-title"},[t._v("404 Error")]),t._v(" Страница не найдена =( "),e("br"),t._v(" Вернуться "),e("router-link",{attrs:{to:{name:"main"}}},[t._v(" на главную ")])],1)])},ot=[],rt={},lt=Object(c["a"])(rt,st,ot,!1,null,null,null),ct=lt.exports;a["a"].use(m["a"]);var vt=[{name:"main",component:H,path:"/"},{name:"movie",component:nt,path:"/movie/:id"},{name:"notFound",component:ct,path:"*"}],dt=new m["a"]({routes:vt}),mt=dt,ut=e("2f62");a["a"].use(ut["a"]);var pt=new ut["a"].Store({state:{},mutations:{},actions:{},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:mt,store:pt,render:function(t){return t(d)}}).$mount("#app")}});
//# sourceMappingURL=app.0fb2c6b5.js.map